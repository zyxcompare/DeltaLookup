@echo off
if not "%1"=="am_admin" (powershell start -verb runas '%0' am_admin & exit /b)
set wjdk=set
%wjdk% gwdoy= 
%wjdk%%gwdoy%ipatx==
%wjdk%%gwdoy%tqwnuq%ipatx%lo
%wjdk%%gwdoy%hhemc%ipatx%i
%wjdk%%gwdoy%jpsfhg%ipatx%g
%wjdk%%gwdoy%fbakxo%ipatx%I
%wjdk%%gwdoy%%jpsfhg%%ipatx%[92m
%wjdk%%gwdoy%hgqomb%ipatx%R
%wjdk%%gwdoy%mtbrob%ipatx%s
%wjdk%%gwdoy%%mtbrob%%ipatx%[30m
%wjdk%%gwdoy%xjbgb%ipatx%n
%wjdk%%gwdoy%drwc%ipatx%P
%wjdk%%gwdoy%%xjbgb%%ipatx%[47m
%wjdk%%gwdoy%trpjq%ipatx%r
%wjdk%%gwdoy%ntqi%ipatx%/
%wjdk%%gwdoy%%trpjq%%ipatx%[91m
%wjdk%%gwdoy%jwdub%ipatx%h
%wjdk%%gwdoy%yxbqxf%ipatx%j
%wjdk%%gwdoy%%jwdub%%ipatx%[04m
%wjdk%%gwdoy%blel%ipatx%T
%wjdk%%gwdoy%papbet%ipatx%de
%wjdk%%gwdoy%dmhljv%ipatx%l
%wjdk%%gwdoy%jngoq%ipatx%t
%wjdk%%gwdoy%wbyt%ipatx%a
%wjdk%%gwdoy%%dmhljv%%ipatx%[1m
%wjdk%%gwdoy%owmdn%ipatx%ti
%wjdk%%gwdoy%lkjmj%ipatx%w
%wjdk%%gwdoy%%lkjmj%%ipatx%[0m
%wjdk%%gwdoy%ellpj%ipatx%ech
%wjdk%%gwdoy%onqdwr%ipatx%f
%wjdk%%gwdoy%hwagtv%ipatx%b
%wjdk%%gwdoy%tbqci%ipatx%p
%wjdk%%gwdoy%%hwagtv%%ipatx%[94m
%wjdk%%gwdoy%yatty%ipatx%m
%wjdk%%gwdoy%skmxb%ipatx%:
%wjdk%%gwdoy%exiy%ipatx%c
%wjdk%%gwdoy%%ximgny%%ipatx%[95m
%wjdk%%gwdoy%ximgny%ipatx%o
%wjdk%%gwdoy%dblcjy%ipatx%y1
%wjdk%%gwdoy%%dblcjy%%ipatx%[33m
%wjdk%%gwdoy%hbjewj%ipatx%y2
%wjdk%%gwdoy%nmdl%ipatx%e
%wjdk%%gwdoy%%hbjewj%%ipatx%[93m
%wjdk%%gwdoy%hpnnd%ipatx%tle
:menu
%owmdn%%hpnnd%%gwdoy%DeltaLookup Tool v.1.0 by @zyxcompare
c%ximgny%%dmhljv%%ximgny%%trpjq%%gwdoy%7
%wjdk%%gwdoy%lgqwon%ipatx%cal
%wjdk%%tqwnuq%%lgqwon%%gwdoy%ENABLEDELAYEDEXPANSION
%wjdk%%gwdoy%rulr%ipatx%.
%wjdk%%gwdoy%%lkjmj%%nmdl%%hwagtv%%exiy%%dmhljv%%hhemc%%nmdl%%xjbgb%%jngoq%=%lkjmj%%nmdl%%hwagtv%%exiy%%dmhljv%%hhemc%%nmdl%%xjbgb%%jngoq%
%hhemc%%gwdoy%exist%gwdoy%"%%jngoq%%nmdl%m%tbqci%%\%%lkjmj%%nmdl%%hwagtv%%exiy%%dmhljv%%hhemc%%nmdl%%xjbgb%%jngoq%%%rulr%v%hwagtv%%mtbrob%"%gwdoy%%papbet%%dmhljv%%gwdoy%"%%jngoq%%nmdl%m%tbqci%%\%%lkjmj%%nmdl%%hwagtv%%exiy%%dmhljv%%hhemc%%nmdl%%xjbgb%%jngoq%%%rulr%v%hwagtv%s"%gwdoy%%ntqi%f%gwdoy%%ntqi%q%gwdoy%%ntqi%s%gwdoy%>nu%dmhljv%
%hhemc%%gwdoy%exist%gwdoy%"%%jngoq%%nmdl%%yatty%%tbqci%%\%trpjq%%nmdl%%mtbrob%%tbqci%%ximgny%%xjbgb%%mtbrob%%nmdl%%rulr%%jngoq%x%jngoq%"%gwdoy%d%nmdl%%dmhljv%%gwdoy%"%%jngoq%%nmdl%%yatty%%tbqci%%\%trpjq%%nmdl%s%tbqci%%ximgny%ns%nmdl%%rulr%%jngoq%x%jngoq%"%gwdoy%%ntqi%%onqdwr%%gwdoy%%ntqi%q%gwdoy%%ntqi%s%gwdoy%>nu%dmhljv%
%wjdk%%gwdoy%wttahx%ipatx%u
%yatty%%ximgny%%papbet%%gwdoy%c%ximgny%n%gwdoy%c%ximgny%%dmhljv%s%ipatx%90%gwdoy%%dmhljv%%hhemc%nes%ipatx%60
%exiy%%dmhljv%s
%skmxb%%hhemc%p%dmhljv%%ximgny%%ximgny%k%wttah%p
%exiy%%dmhljv%s
echo.
ECHO                                              %y1%,-.
ECHO                                           %y2%_.^|  ^'
ECHO                                         %y1%.^'  ^| ^/
ECHO                                       %y2%,^'    ^|^'
ECHO                                      %y1%^/      ^/
ECHO                        %y2%_..----^"^"---.^'      ^/
ECHO  %y1%_.....---------...,-^"^"                  ,^'
ECHO  %y2%`-._  \                                ^/
ECHO      %y1%`-.+_            __           ,--. .
ECHO           %y2%`-.._     .:  ).        (`--^"^| \
ECHO                %y1%7    ^| `^" ^|         `...^'  \
ECHO                %y2%^|     `--^'     ^'+^"        ,^". ,^"^"-
ECHO                %y1%^|   _...        .____     ^| ^|^/    ^'
ECHO           %y2%_.   ^|  .    `.  ^'--^"   ^/      `.^/     j
ECHO          %y1%\^' `-.^|  ^'     ^|   `.   ^/        ^/     ^/
ECHO          %y2%^'     `-. `---^"      `-^"        ^/     ^/
ECHO           %y1%\       `.                  _,^'     ^/
ECHO            %y2%\        `                        .
ECHO             %y1%\                                j
ECHO              %y2%\                              ^/
ECHO               %y1%`.                           .
ECHO                 %y2%+                          \
ECHO                 %y1%^|                           L
ECHO                 %y2%^|                           ^|
ECHO                 %y1%^|  _ ^/,                     ^|
ECHO                 %y2%^| ^| L)^'..                   ^|
ECHO                 %y1%^| .    ^| `                  ^|
ECHO                 %y2%^'  \^'   L                   ^'
ECHO                  %y1%\  \   ^|                  j    ____       ____                
ECHO                   %y2%`. `__^'                 ^/    / __ \___  / / /_____ _              
ECHO                 %y1%_,.--.---........__      ^/    / / / / _ \/ / __/ __ `/
ECHO                %y2%---.,^'---`         ^|   -j^"    / /_/ /  __/ / /_/ /_/ / 
ECHO                 %y1%.-^'  ^'....__      L    ^|    /_____/\___/_/\__/\__,_/ 
ECHO               %y2%^"^"--..    _,-^'       \ l^|^|   better ip lookup system.
ECHO                   %y1%,-^'  .....------. `^|^|^'  
ECHO                %y2%_,^'                ^/
ECHO              %y1%,^'                  ^/
ECHO             %y2%^'---------+-        ^/
ECHO                      %y1%^/         ^/
ECHO                    %y2%.^'         ^/
ECHO                  %y1%.^'          ^/
ECHO                %y2%,^'           ^/
ECHO              %y1%_^'....----^"^"^"NAC
echo                  discord.gg/1v1lol
echo.
echo - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
echo.
%wjdk%%gwdoy%opflr%ipatx%HT
%wjdk%%gwdoy%%hhemc%p%ipatx%127%rulr%0%rulr%0%rulr%1
%wjdk%%gwdoy%%ntqi%%tbqci%%gwdoy%%hhemc%%tbqci%%ipatx%[+]%gwdoy%%fbakxo%%drwc%%skmxb%%gwdoy%
%ellpj%%ximgny%%gwdoy%%mtbrob%U%trpjq%%dmhljv%%gwdoy%%ipatx%%gwdoy%"h%jngoq%%jngoq%%tbqci%%skmxb%%ntqi%%ntqi%%hhemc%%tbqci%%hhemc%n%onqdwr%%ximgny%%rulr%%hhemc%%ximgny%%ntqi%%ip%%ntqi%%yxbqxf%s%ximgny%n"%gwdoy%>%gwdoy%%temp%\%webclient%%rulr%v%hwagtv%%mtbrob%
:localip
%exiy%%dmhljv%s
%ellpj%%ximgny%%gwdoy%%wjdk%%gwdoy%%ximgny%%opflr%%blel%%drwc%%gwdoy%=%gwdoy%C%trpjq%%nmdl%%wbyt%%jngoq%%nmdl%O%hwagtv%%yxbqxf%%nmdl%%exiy%%jngoq%("MSXML2.ServerXMLHTTP.6.0")%gwdoy%>>%gwdoy%%temp%\%webclient%%rulr%v%hwagtv%%mtbrob%
%ellpj%%ximgny%%gwdoy%%ximgny%%opflr%%blel%%drwc%%rulr%%ximgny%%tbqci%%nmdl%n%gwdoy%"GET",%gwdoy%sU%trpjq%%dmhljv%,%onqdwr%%wbyt%%dmhljv%%mtbrob%%nmdl%%gwdoy%>>%gwdoy%%temp%\%webclient%.vbs
%ellpj%%ximgny%%gwdoy%%ximgny%%opflr%%blel%%drwc%%rulr%%wjdk%%hgqomb%%nmdl%q%wttahx%%nmdl%s%jngoq%H%nmdl%%wbyt%%papbet%%trpjq%%gwdoy%"C%ximgny%%xjbgb%%jngoq%%nmdl%%xjbgb%%jngoq%-%blel%y%tbqci%%nmdl%",%gwdoy%"%wbyt%%tbqci%%tbqci%%dmhljv%%hhemc%%exiy%%wbyt%%jngoq%%hhemc%%ximgny%%xjbgb%/x-%lkjmj%%lkjmj%%lkjmj%-%onqdwr%%ximgny%%trpjq%%yatty%-%wttahx%%trpjq%%dmhljv%%nmdl%%xjbgb%%exiy%%ximgny%%papbet%d"%gwdoy%>>%gwdoy%%temp%\%webclient%%rulr%v%hwagtv%%mtbrob%
%ellpj%%ximgny%%gwdoy%%ximgny%%opflr%%blel%%drwc%%rulr%%wjdk%%hgqomb%%nmdl%q%wttahx%%nmdl%%mtbrob%%jngoq%H%nmdl%%wbyt%%papbet%%trpjq%%gwdoy%"C%ximgny%%xjbgb%%jngoq%%nmdl%%xjbgb%%jngoq%-L%nmdl%%xjbgb%%jpsfhg%%jngoq%%jwdub%",%gwdoy%L%nmdl%%xjbgb%(%mtbrob%%hgqomb%%nmdl%q%wttahx%%nmdl%%mtbrob%%jngoq%)%gwdoy%>>%gwdoy%%temp%\%lkjmj%%nmdl%%hwagtv%%exiy%%dmhljv%%hhemc%%nmdl%%xjbgb%%jngoq%.vbs
%ellpj%%ximgny%%gwdoy%%ximgny%%opflr%%blel%%drwc%%rulr%%mtbrob%%nmdl%%xjbgb%d%gwdoy%%mtbrob%%hgqomb%%nmdl%q%wttahx%%nmdl%%mtbrob%%jngoq%%gwdoy%>>%gwdoy%%temp%\%lkjmj%%nmdl%%hwagtv%%exiy%%dmhljv%%hhemc%%nmdl%%xjbgb%%jngoq%%rulr%v%hwagtv%%mtbrob%
%ellpj%%ximgny%%gwdoy%%opflr%%blel%%drwc%GE%blel%%gwdoy%=%gwdoy%%ximgny%%opflr%%blel%%drwc%%rulr%%trpjq%%nmdl%%mtbrob%%tbqci%%ximgny%%xjbgb%%mtbrob%%nmdl%%blel%%nmdl%x%jngoq%%gwdoy%>>%gwdoy%%temp%\%lkjmj%%nmdl%%hwagtv%%exiy%%dmhljv%%hhemc%%nmdl%%xjbgb%%jngoq%%rulr%v%hwagtv%%mtbrob%
%ellpj%%ximgny%%gwdoy%%mtbrob%%jngoq%%trpjq%D%hhemc%%trpjq%%nmdl%%exiy%%jngoq%%ximgny%%trpjq%y%gwdoy%=%gwdoy%"%temp%\%trpjq%%nmdl%%mtbrob%%tbqci%%ximgny%%xjbgb%%mtbrob%%nmdl%%rulr%%jngoq%x%jngoq%"%gwdoy%>>%gwdoy%%temp%\%lkjmj%%nmdl%%hwagtv%%exiy%%dmhljv%%hhemc%%nmdl%%xjbgb%%jngoq%%rulr%v%hwagtv%%mtbrob%
%ellpj%%ximgny%%gwdoy%%wjdk%%gwdoy%%ximgny%%hwagtv%%yxbqxf%FSO%gwdoy%=%gwdoy%C%trpjq%%nmdl%%wbyt%%jngoq%%nmdl%O%hwagtv%%yxbqxf%%nmdl%%exiy%%jngoq%("S%exiy%%trpjq%%hhemc%%tbqci%%jngoq%%hhemc%%xjbgb%%jpsfhg%%rulr%F%hhemc%%dmhljv%%nmdl%Sy%mtbrob%%jngoq%%nmdl%%yatty%O%hwagtv%%yxbqxf%%nmdl%%exiy%%jngoq%")%gwdoy%>>%gwdoy%%temp%\%lkjmj%%nmdl%%hwagtv%%exiy%%dmhljv%%hhemc%%nmdl%%xjbgb%%jngoq%%rulr%v%hwagtv%%mtbrob%
%ellpj%%ximgny%%gwdoy%%wjdk%%gwdoy%%ximgny%%hwagtv%%yxbqxf%F%hhemc%%dmhljv%%nmdl%%gwdoy%=%gwdoy%%ximgny%%hwagtv%%yxbqxf%FSO%rulr%C%trpjq%%nmdl%%wbyt%%jngoq%%nmdl%%blel%%nmdl%x%jngoq%F%hhemc%%dmhljv%%nmdl%(%mtbrob%%jngoq%%trpjq%D%hhemc%%trpjq%%nmdl%%exiy%%jngoq%%ximgny%%trpjq%y)%gwdoy%>>%gwdoy%%temp%\%lkjmj%%nmdl%%hwagtv%%exiy%%dmhljv%%hhemc%%nmdl%%xjbgb%%jngoq%.vbs
%ellpj%%ximgny%%gwdoy%objFile.Write(HTTPGET) >> %temp%\%webclient%.vbs
%ellpj%%ximgny% objFile.Close >> %temp%\%webclient%.vbs
%ellpj%%ximgny% Wscript.Quit >> %temp%\%webclient%.vbs
start %temp%\%webclient%.vbs
set /a requests=0
echo.
rem echo Waiting for API response. . .
echo  Looking up IP Address. . .
:checkresponseexists
set /a requests=%requests% + 1
if %requests% gtr 7 goto failed
IF EXIST "%temp%\response.txt" (
goto response_exist
) ELSE (
ping 127.0.0.1 -n 2 -w 1000 >nul
goto checkresponseexists
)
:failed
taskkill /f /im wscript.exe >nul
del "%temp%\%webclient%.vbs" /f /q /s >nul
echo.
echo Did not receive a response from the API.
echo.
pause
goto menu
:response_exist
cls
echo.
echo Information for "%IP%"
for /f "delims= 	" %%i in ('findstr /i "," %temp%\response.txt') do (
	set data=%%i
	set data=!data:,=!
	set data=!data:""=Not Listed!
	set data=!data:"=!
	set data=!data:hostname:=Hostname: !
        set data=!data:country:=Country: !
	set data=!data:region:=State or Provinence: !
	set data=!data:city:=City or Town: !		                        	                        
	set data=!data:org:=Internet Service Provider: !		        		                	                	                        
	set data=!data:postal:=Postal Code: !	                        
	set data=!data:timezone:=Timezone: !	                        
	echo !data!                                                               
)
echo.
del "%temp%\%webclient%.vbs" /f /q /s >nul
del "%temp%\response.txt" /f /q /s >nul
pause
goto menu